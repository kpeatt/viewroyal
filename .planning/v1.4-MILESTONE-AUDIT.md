---
milestone: v1.4
audited: 2026-02-24
status: gaps_found
scores:
  requirements: 19/19
  phases: 4/4
  integration: 6/7
  flows: 4/6
gaps:
  requirements: []
  integration:
    - id: "INT-01"
      severity: "critical"
      description: "Broken cross-links: Phase 22 changed baseUrl from /docs to / but inline MDX links in 7 pages still use /docs/ prefix"
      affected_requirements: [GUID-01, GUID-02, GUID-03, GUID-04, REFC-01, REFC-02]
      affected_pages:
        - "content/docs/index.mdx (5 broken links)"
        - "content/docs/guides/getting-started.mdx (5 broken links)"
        - "content/docs/guides/authentication.mdx (2 broken links)"
        - "content/docs/guides/pagination.mdx (1 broken link)"
        - "content/docs/guides/error-handling.mdx (2 broken links)"
        - "content/docs/reference/ocd-standard.mdx (2 broken links)"
        - "content/docs/reference/data-model.mdx (1 broken link)"
      fix: "Replace /docs/ with / in all internal link targets across 7 MDX files, then rebuild"
  flows:
    - flow: "Developer follows inline link from Getting Started to API reference"
      breaks_at: "Inline link href /docs/api-reference/... returns 404 (correct path: /api-reference/...)"
    - flow: "Landing page links to guide sections"
      breaks_at: "All 5 inline links on index.mdx use /docs/ prefix"
tech_debt:
  - phase: 20-openapi-integration-api-reference
    items:
      - "Duplicate prebuild script execution: generate-openapi.mjs runs twice per build (wired in both prebuild hook and build script)"
  - phase: 22-reference-content-production
    items:
      - "No deploy script in apps/docs/package.json — deployment requires manual wrangler deploy"
      - "Wrangler not a direct dependency of apps/docs — relies on shamefully-hoist pulling from apps/web"
      - "Custom domain docs.viewroyal.ai pending dashboard DNS configuration (deployed to viewroyal-docs.kpeatt.workers.dev)"
      - "AREF-01 through AREF-04 checkboxes stale in REQUIREMENTS.md (verified complete but still marked [ ])"
---

# v1.4 Developer Documentation Portal — Milestone Audit

## Summary

**Status:** gaps_found
**Requirements:** 19/19 satisfied (all verified across 3 sources)
**Phases:** 4/4 passed verification
**Integration:** 6/7 connections wired (1 critical cross-link break)
**E2E Flows:** 4/6 complete (2 broken by cross-link issue)

## Requirements Cross-Reference (3-Source)

| REQ-ID | Description | VERIFICATION.md | SUMMARY Frontmatter | REQUIREMENTS.md | Final Status |
|--------|-------------|-----------------|---------------------|-----------------|--------------|
| MONO-01 | pnpm workspace configuration | Phase 19: PASS | 19-01: listed | [x] | **satisfied** |
| MONO-02 | Existing apps build after migration | Phase 19: PASS | 19-01: listed | [x] | **satisfied** |
| FWRK-01 | Fumadocs + Next.js 16 scaffold | Phase 19: PASS | 19-02: listed | [x] | **satisfied** |
| FWRK-02 | Static export builds | Phase 19: PASS | 19-02: listed | [x] | **satisfied** |
| FWRK-03 | Deployed to Cloudflare | Phase 22: Complete | 22-02: listed | [x] | **satisfied** |
| FWRK-04 | Orama search indexes all pages | Phase 22: Complete | 22-02: listed | [x] | **satisfied** |
| FWRK-05 | Sidebar auto-generated | Phase 22: Complete | 22-01: listed | [x] | **satisfied** |
| AREF-01 | OpenAPI spec fetch with fallback | Phase 20: PASS | 20-01: listed | [ ] *(stale)* | **satisfied** |
| AREF-02 | API ref pages auto-generated by tag | Phase 20: PASS | 20-02: listed | [ ] *(stale)* | **satisfied** |
| AREF-03 | Interactive playground | Phase 20: PASS | 20-02: listed | [ ] *(stale)* | **satisfied** |
| AREF-04 | Multi-language code examples | Phase 20: PASS | 20-01+02: listed | [ ] *(stale)* | **satisfied** |
| GUID-01 | Getting Started guide | Phase 21: SATISFIED | 21-01: listed | [x] | **satisfied** |
| GUID-02 | Authentication guide | Phase 21: SATISFIED | 21-01: listed | [x] | **satisfied** |
| GUID-03 | Pagination guide | Phase 21: SATISFIED | 21-02: listed | [x] | **satisfied** |
| GUID-04 | Error Handling guide | Phase 21: SATISFIED | 21-02: listed | [x] | **satisfied** |
| REFC-01 | Data Model with Mermaid ER diagram | Phase 22: Complete | 22-01: listed | [x] | **satisfied** |
| REFC-02 | OCD Standard Reference | Phase 22: Complete | 22-01: listed | [x] | **satisfied** |
| REFC-03 | Changelog | Phase 22: Complete | 22-02: listed | [x] | **satisfied** |
| REFC-04 | Contribution guide | Phase 22: Complete | 22-02: listed | [x] | **satisfied** |

**Orphaned requirements:** None
**Stale checkboxes:** AREF-01, AREF-02, AREF-03, AREF-04 (verified complete, REQUIREMENTS.md not updated)

## Phase Verification Summary

| Phase | Name | Status | Requirements | Score |
|-------|------|--------|-------------|-------|
| 19 | Infrastructure & Scaffolding | PASSED | MONO-01, MONO-02, FWRK-01, FWRK-02 | 4/4 |
| 20 | OpenAPI Integration & API Reference | PASSED | AREF-01, AREF-02, AREF-03, AREF-04 | 4/4 |
| 21 | Developer Guides | PASSED | GUID-01, GUID-02, GUID-03, GUID-04 | 4/4 |
| 22 | Reference Content & Production | PASSED | REFC-01, REFC-02, REFC-03, REFC-04, FWRK-03, FWRK-04, FWRK-05 | 7/7 |

## Integration Report

### Critical: Broken Cross-Links (INT-01)

Phase 22 Plan 02 fixed a post-deploy routing issue by changing `baseUrl` from `/docs` to `/` and restructuring routes from `app/docs/[[...slug]]/` to `app/[[...slug]]/`. This fix was not back-propagated to hard-coded inline links in MDX content authored in Phases 21 and 22.

**Impact:** All inline content cross-links across 7 pages use `/docs/` prefix and 404. Sidebar navigation works correctly (generated from fumadocs `source` which respects `baseUrl`).

**Affected files (18 broken links total):**

| File | Broken Links |
|------|-------------|
| `content/docs/index.mdx` | 5 links to guides and api-reference |
| `content/docs/guides/getting-started.mdx` | 5 links to api-reference and other guides |
| `content/docs/guides/authentication.mdx` | 2 links to api-reference and error-handling |
| `content/docs/guides/pagination.mdx` | 1 link to search endpoint |
| `content/docs/guides/error-handling.mdx` | 2 links to authentication guide |
| `content/docs/reference/ocd-standard.mdx` | 2 links to data-model and api-reference |
| `content/docs/reference/data-model.mdx` | 1 link to api-reference |

**Fix:** Replace `/docs/` with `/` in all internal link targets, rebuild, redeploy.

### Minor: Duplicate Prebuild Execution

`generate-openapi.mjs` runs twice per build (wired in both `prebuild` hook and `build` script). Functionally harmless but makes two network requests per build.

### Minor: Deployment Fragility

- No `deploy` script in `apps/docs/package.json`
- Wrangler not a direct dependency — relies on `shamefully-hoist` pulling from `apps/web`
- Custom domain `docs.viewroyal.ai` pending DNS configuration

## E2E Flow Status

| # | Flow | Status | Issue |
|---|------|--------|-------|
| 1 | Sidebar navigation across all sections | COMPLETE | — |
| 2 | Search across all content sections | COMPLETE | — |
| 3 | Build pipeline: workspace → build → export → deploy | COMPLETE | — |
| 4 | Mermaid diagram rendering (light/dark) | COMPLETE | — |
| 5 | Developer follows inline links from guides to API reference | **BROKEN** | `/docs/` prefix 404s |
| 6 | Landing page links to all sections | **BROKEN** | `/docs/` prefix 404s |

## Tech Debt Summary

| Phase | Item | Severity |
|-------|------|----------|
| 20 | Duplicate prebuild script execution | Low |
| 22 | No deploy script in apps/docs/package.json | Low |
| 22 | Wrangler not a direct dependency of apps/docs | Low |
| 22 | Custom domain DNS configuration pending | Low |
| — | AREF-01-04 checkboxes stale in REQUIREMENTS.md | Housekeeping |

**Total: 5 items across 2 phases**

---

*Audited: 2026-02-24*
*Auditor: Claude (gsd-audit-milestone)*
